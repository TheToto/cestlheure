{% extends "global.twig" %}

{% block body %}
    <div class="row">
        <div style="height:90vh; width: 90vw;">
            <canvas id="curMonth" width="400" height="400"></canvas>
        </div>
        <div class="col-12">
            <h2>Classement du mois</h2>
            <ul class="list-group">
                {% for item in month %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span class="pull-left ">
                            <img height="32px" src="{{ item.sender[0].thumbSrc }}" class="img-reponsive img-rounded"/>
                            {{ item.sender[0].name }}
                        </span>
                        <span class="badge badge-secondary">{{ item.count }}
                            point(s)</span>
                    </li>
                {% endfor %}
            </ul>
        </div>
        <div class="col-6">
            <h2>Classement global</h2>
            <ul class="list-group">
                {% for item in global %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span class="pull-left ">
                            <img height="32px" src="{{ item.sender[0].thumbSrc }}" class="img-reponsive img-rounded"/>
                            {{ item.sender[0].name }}
                        </span>
                        <span class="badge badge-secondary">{{ item.count }}
                            point(s)</span>
                    </li>
                {% endfor %}
            </ul>
        </div>
        <div class="col-6">
            <h2>Classement par mois</h2>
            <ul class="list-group">
                {% for item in bymonth %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span class="pull-left ">
                            <img height="32px" src="{{ item.sender[0].thumbSrc }}" class="img-reponsive img-rounded"/>
                            {{ item.sender[0].name }}
                        </span>
                        <span class="badge badge-secondary">{{ item.count }}
                            Ã©toile(s)</span>
                    </li>
                {% endfor %}
            </ul>
        </div>
        <div style="height:90vh; width: 90vw;">
            <canvas id="byMonth" width="400" height="400"></canvas>
        </div>
        <script>

            var chart_bymonth = {{ json_chart_bymonth }};
            var chart_curmonth = {{ json_chart_curmonth }};
        </script>
    </div>
    <script src="/static/chart_global.js"></script>
    <script src="/static/chart_cur.js"></script>
{% endblock %}
